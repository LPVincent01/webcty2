<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thông tin thiết bị</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin-top: 50px;
        background-color: #f0f2f5;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 25px;
        border: 1px solid #ddd;
        border-radius: 10px;
        background-color: white;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c3e50;
        margin-bottom: 20px;
      }
      .device-info {
        text-align: left;
        margin: 20px 0;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 5px;
        border-left: 4px solid #3498db;
      }
      .info-row {
        margin-bottom: 10px;
        display: flex;
      }
      .info-label {
        font-weight: bold;
        min-width: 120px;
        color: #34495e;
      }
      .status-using {
        color: #27ae60;
        font-weight: bold;
      }
      .status-ready {
        color: #3498db;
        font-weight: bold;
      }
      .status-warranty {
        color: #e74c3c;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Thông tin thiết bị</h1>
      <div id="device-data">
        <!-- Thông tin sẽ được hiển thị ở đây bằng JavaScript -->
        <p>Đang tải thông tin thiết bị...</p>
      </div>
    </div>

    <script>
      // Lấy thông tin từ URL
      const urlParams = new URLSearchParams(window.location.search);
      const deviceCode = urlParams.get("code");
      const serial = urlParams.get("serial");

      // Dữ liệu mẫu (trong thực tế bạn sẽ lấy từ API hoặc database)
      const devices = {
        TB001: {
          name: "Laptop Dell XPS 15",
          type: "Laptop",
          serial: "20250801",
          import_date: "2023-03-15",
          status: "Đang sử dụng",
          user: "Nguyễn Văn A",
        },
        TB002: {
          name: "MacBook Pro MI",
          type: "Laptop",
          serial: "20250802",
          import_date: "2023-03-20",
          status: "Đang sử dụng",
          user: "Trần Thị B",
        },
        TB003: {
          name: "PC Workstation",
          type: "Máy bàn",
          serial: "20250803",
          import_date: "2023-04-05",
          status: "Bảo hành",
          user: "",
        },
        TB004: {
          name: 'iPad Pro 12.9"',
          type: "Tablet",
          serial: "20250804",
          import_date: "2023-04-10",
          status: "Đang sử dụng",
          user: "Lê Vân C",
        },
        TB005: {
          name: 'Monitor Dell 27"',
          type: "Màn hình",
          serial: "20250805",
          import_date: "2023-04-15",
          status: "Sẵn sàng",
          user: "",
        },
      };

      // Hiển thị thông tin thiết bị
      function displayDeviceInfo() {
        const device = devices[deviceCode];
        const deviceDataElement = document.getElementById("device-data");

        if (device && device.serial === serial) {
          // Tạo class trạng thái dựa trên giá trị
          let statusClass = "";
          if (device.status.includes("sử dụng")) statusClass = "status-using";
          else if (device.status.includes("sẵn sàng"))
            statusClass = "status-ready";
          else if (device.status.includes("Bảo hành"))
            statusClass = "status-warranty";

          deviceDataElement.innerHTML = `
                    <div class="device-info">
                        <div class="info-row">
                            <span class="info-label">Mã thiết bị:</span>
                            <span>${deviceCode}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Tên thiết bị:</span>
                            <span>${device.name}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Loại thiết bị:</span>
                            <span>${device.type}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Số serial:</span>
                            <span>${device.serial}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Ngày nhập:</span>
                            <span>${device.import_date}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Trạng thái:</span>
                            <span class="${statusClass}">${device.status}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Người sử dụng:</span>
                            <span>${device.user || "-"}</span>
                        </div>
                    </div>
                    <p><a href="/">Quay lại trang chủ</a></p>
                `;
        } else {
          deviceDataElement.innerHTML = `
                    <div class="device-info">
                        <p>Không tìm thấy thông tin thiết bị</p>
                        <p>Mã thiết bị: ${deviceCode || "Không có"}</p>
                        <p>Số serial: ${serial || "Không có"}</p>
                    </div>
                    <p><a href="/">Quay lại trang chủ</a></p>
                `;
        }
      }

      // Gọi hàm hiển thị khi trang tải xong
      window.onload = displayDeviceInfo;
    </script>
  </body>
</html>
